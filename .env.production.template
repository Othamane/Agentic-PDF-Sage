# PDF Sage - Production Environment Template
# Copy this file to .env.production and fill in the values

# === CORE SETTINGS ===
ENVIRONMENT=production
DEBUG=false

# === DATABASE ===
# PostgreSQL connection string
DATABASE_URL=postgresql://postgres:your_secure_password@postgres:5432/pdfsage
DB_PASSWORD=your_secure_password_here

# === SECURITY ===
# Generate a secure secret key (use: openssl rand -hex 32)
SECRET_KEY=your-super-secret-key-change-this-in-production

# Use JSON format for list fields
ALLOWED_HOSTS='["localhost", "127.0.0.1", "yourdomain.com", "www.yourdomain.com"]'
ALLOWED_ORIGINS='["http://localhost:3000", "http://localhost:5173", "https://yourdomain.com", "https://www.yourdomain.com"]'
CORS_ORIGINS='["http://localhost:3000", "http://127.0.0.1:3000", "http://localhost:5173"]'

# === ENHANCED LLM SETTINGS ===
# Primary LLM Provider: gemini or ollama or huggingface
LLM_PROVIDER=gemini
LLM_MODEL=gemini-2.5-flash

# Gemini API settings (RECOMMENDED for best performance)
# Get your API key from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# Fallback LLM settings
FALLBACK_LLM_PROVIDER=ollama
FALLBACK_LLM_MODEL=llama2

# Ollama settings (for local fallback)
OLLAMA_HOST=http://ollama:11434

# HuggingFace settings (optional token for private models)
HUGGINGFACE_TOKEN=your_hf_token_here_optional

# === EMBEDDINGS (FREE) ===
EMBEDDING_PROVIDER=sentence-transformers
EMBEDDING_MODEL=all-MiniLM-L6-v2
VECTOR_DIMENSION=384

# === FRONTEND ===
# Backend URL for frontend
BACKEND_HOST=https://api.yourdomain.com
VITE_BACKEND_URL=https://api.yourdomain.com

# Frontend URL for backend CORS
FRONTEND_HOST=https://yourdomain.com

# === DATABASE CONNECTION POOL ===
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# === RATE LIMITING ===
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=3600

# === FILE UPLOAD ===
MAX_FILE_SIZE=52428800  # 50MB in bytes
UPLOAD_DIR=/app/uploads

# === AI SETTINGS ===
LLM_TEMPERATURE=0.1
MAX_TOKENS=2000
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# === LOGGING ===
LOG_LEVEL=INFO
LOG_FILE=/app/logs/app.log

# === PERFORMANCE TUNING ===
# Vector search settings
MAX_SEARCH_RESULTS=50
SEARCH_TIMEOUT_SECONDS=30

# Processing timeouts
DOCUMENT_PROCESSING_TIMEOUT=600  # 10 minutes
VECTOR_CREATION_TIMEOUT=300      # 5 minutes
LLM_GENERATION_TIMEOUT=60        # 1 minute

# Cache settings
VECTOR_CACHE_SIZE=50
VECTOR_CACHE_TTL=3600  # 1 hour

# === DEBUGGING ===
# Enable detailed logging for development
ENABLE_VECTOR_DEBUG=false
ENABLE_LLM_DEBUG=false
ENABLE_DB_DEBUG=false